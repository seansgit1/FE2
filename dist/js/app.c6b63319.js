(function(){"use strict";var e={431:function(e,t,a){var l=a(751),n=a(641),s=a(33);const r={id:"app"},i={class:"container-fluid"},o={class:"table"},u=["onClick","onDblclick"],c=["onClick"],p={class:"container"},d={class:"form-group d-flex justify-content-center"},m=["value"],h=["value"],f=["value"],S={class:"table"},v={class:"sample-id-column"},E=["onUpdate:modelValue","onKeyup"];function b(e,t,a,b,k,y){return(0,n.uX)(),(0,n.CE)("div",r,[t[13]||(t[13]=(0,n.Fv)('<nav class="navbar navbar-expand-md navbar-light bg-warning w-100"><div class="container-fluid"><a class="navbar-brand" href="#">Sample Management</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button></div></nav>',1)),(0,n.Lk)("div",i,[(0,n.Lk)("table",o,[t[6]||(t[6]=(0,n.Lk)("thead",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"Identifier"),(0,n.Lk)("th",null,"Status"),(0,n.Lk)("th",null,"Material"),(0,n.Lk)("th",null,"UserText1")],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.samples,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.id,onClick:a=>e.$data.sample=t,onDblclick:e=>y.getResults(t.id)},[(0,n.Lk)("td",null,(0,s.v_)(t.id),1),(0,n.Lk)("td",null,(0,s.v_)(t.Identifier),1),(0,n.Lk)("td",null,(0,s.v_)(t.Status_Name),1),(0,n.Lk)("td",null,(0,s.v_)(t.Material_Name),1),(0,n.Lk)("td",null,(0,s.v_)(t.UserText1),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-outline-danger btn-sm mx-1",onClick:e=>y.deleteSample(t)},"X",8,c)])],40,u)))),128))])]),t[11]||(t[11]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("div",p,[(0,n.Lk)("form",{onSubmit:t[5]||(t[5]=(0,l.D$)(((...e)=>y.submitForm&&y.submitForm(...e)),["prevent"]))},[(0,n.Lk)("div",d,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control w-35 me-2",style:{"max-width":"550px"},placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=e=>k.sample.Identifier=e)},null,512),[[l.Jo,k.sample.Identifier]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>k.sample.Event=e),class:"form-control w-35 me-2",style:{"max-width":"150px"}},[t[7]||(t[7]=(0,n.Lk)("option",{value:"null"},"Select Event",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.events,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.Name),9,m)))),128))],512),[[l.u1,k.sample.Event]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>k.sample.Status=e),class:"form-control w-35 me-2",style:{"max-width":"150px"}},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.statuses,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.Name),9,h)))),128))],512),[[l.u1,k.sample.Status]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>k.sample.Material=e),class:"form-control w-35 me-2",style:{"max-width":"150px"}},[t[8]||(t[8]=(0,n.Lk)("option",{value:"null"},"Select Material",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.materials,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.Name),9,f)))),128))],512),[[l.u1,k.sample.Material]]),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control w-35 me-2",style:{"max-width":"150px"},placeholder:"UserText1","onUpdate:modelValue":t[4]||(t[4]=e=>k.sample.UserText1=e)},null,512),[[l.Jo,k.sample.UserText1]]),t[9]||(t[9]=(0,n.Lk)("button",{class:"btn btn-success"},"Submit",-1))])],32)]),t[12]||(t[12]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("table",S,[t[10]||(t[10]=(0,n.Lk)("thead",null,[(0,n.Lk)("th",{class:"sample-id-column"},"SampleID"),(0,n.Lk)("th",null,"Test"),(0,n.Lk)("th",null,"Value")],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.sample_results,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",v,(0,s.v_)(e.Sample),1),(0,n.Lk)("td",null,(0,s.v_)(e.Test_Name),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control value-input","onUpdate:modelValue":t=>e.ValueNum=t,onKeyup:(0,l.jR)((t=>y.updateResultValue(e)),["enter"])},null,40,E),[[l.Jo,e.ValueNum]])])])))),128))])])])])}const k={BASE_URL:"http://192.168.12.24",ENDPOINTS:{SAMPLES:"/api/samples",STATUSES:"/api/statuses",MATERIALS:"/api/materials",EVENTS:"/api/events",SAMPLE_RESULTS:"/api/sample-results",SAMPLE_RESULTS_UPDATE:"/api/sample-results/update"}},y=e=>`${k.BASE_URL}${e}`,L=(e,t=null)=>{const a=k.ENDPOINTS[e];if(!a)throw new Error(`Unknown endpoint: ${e}`);return y(t?`${a}/${t}/`:`${a}/`)};var g={name:"App",data(){return{student:{},students:[],samples:[],statuses:[],materials:[],events:[],sample_results:[],sample:{id:null,Identifier:"",Status:null,Material:null,Event:null,UserText1:""}}},created(){this.getSamples(),this.getStatuses(),this.getMaterials(),this.getEvents()},methods:{async deleteSample(e){await this.getSamples();try{await fetch(L("SAMPLES",e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}),await this.getSamples()}catch(t){console.error("Error deleting sample:",t),alert("Failed to delete sample. Please try again.")}},async editSample(){await this.getSamples();try{const e=await fetch(L("SAMPLES",this.sample.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Identifier:this.sample.Identifier,Status:this.sample.Status,Material:this.sample.Material,UserText1:this.sample.UserText1})});if(!e.ok)throw new Error("Failed to edit sample");await this.getSamples(),this.sample={id:null,Identifier:"",Status:null,Material:null,UserText1:""}}catch(e){console.error("Error editing sample:",e),alert("Failed to edit sample. Please try again."),this.sample={id:null,Identifier:"",Status:null,Material:null,UserText1:""}}},async submitForm(){this.sample.id?await this.editSample():await this.createSample()},async getStatuses(){try{const e=await fetch(L("STATUSES")),t=await e.json();this.statuses=t}catch(e){console.error("Error fetching statuses:",e)}},async getEvents(){try{const e=await fetch(L("EVENTS")),t=await e.json();this.events=t}catch(e){console.error("Error fetching Events:",e)}},async getMaterials(){try{const e=await fetch(L("MATERIALS")),t=await e.json();this.materials=t}catch(e){console.error("Error fetching materials:",e)}},async getSamples(){var e=await fetch(L("SAMPLES"));this.samples=await e.json()},async getResults(e){try{const t=await fetch(L("SAMPLE_RESULTS",e)),a=await t.json();this.sample_results=a}catch(t){console.error("Error fetching sample results:",t)}},async updateResultValue(e){try{const t=await fetch(L("SAMPLE_RESULTS_UPDATE",e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Sample:e.Sample,Test:e.Test,ValueNum:e.ValueNum})});if(!t.ok)throw new Error("Failed to update result value");const a=document.activeElement;a&&a.blur()}catch(t){console.error("Error updating result value:",t)}},async createSample(){await this.getSamples();try{const e=await fetch(L("SAMPLES"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Identifier:this.sample.Identifier,Status:this.sample.Status,Material:this.sample.Material,UserText1:this.sample.UserText1})});if(!e.ok)throw new Error("Failed to create sample");await this.getSamples(),this.sample={id:null,Identifier:"",Status:null,Material:null,UserText1:""}}catch(e){console.error("Error creating student:",e),alert("Failed to create sample. Please try again."),this.sample={id:null,Identifier:"",Status:null,Material:null,UserText1:""}}}}},w=a(262);const T=(0,w.A)(g,[["render",b]]);var x=T;(0,l.Ef)(x).mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,s){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],s=e[c][2];for(var i=!0,o=0;o<l.length;o++)(!1&s||r>=s)&&Object.keys(a.O).every((function(e){return a.O[e](l[o])}))?l.splice(o--,1):(i=!1,s<r&&(r=s));if(i){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,n,s]}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,s,r=l[0],i=l[1],o=l[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(o)var c=o(a)}for(t&&t(l);u<r.length;u++)s=r[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(431)}));l=a.O(l)})();
//# sourceMappingURL=app.c6b63319.js.map